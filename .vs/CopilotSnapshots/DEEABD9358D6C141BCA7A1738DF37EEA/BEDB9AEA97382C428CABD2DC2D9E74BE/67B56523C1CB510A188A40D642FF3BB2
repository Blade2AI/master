# ??? Sovereign Stack Status
[![Continuous Assurance Status](https://github.com/PrecisePointway/master/actions/workflows/continuous-assurance.yml/badge.svg)](https://github.com/PrecisePointway/master/actions/workflows/continuous-assurance.yml)

Cryptographic ledger integrity is continuously verified (hash + rogue file check) via scheduled CI. Any drift invalidates the build.

# master
Project management file

## Governance script: `sovereign.ps1`
A single-file PowerShell governance stack is available at `scripts/sovereign.ps1`.

Quickstart (Windows, elevated PowerShell recommended):

```powershell
# First time setup (creates directories, keys, initial attestation)
pwsh -NoProfile -ExecutionPolicy Bypass -File .\scripts\sovereign.ps1 -Action setup

# Daily security check
pwsh -NoProfile -ExecutionPolicy Bypass -File .\scripts\sovereign.ps1 -Action security

# Run full governance stack
pwsh -NoProfile -ExecutionPolicy Bypass -File .\scripts\sovereign.ps1 -Action full
```

See `docs/audit/DEPENDENCY_MANIFEST_APPENDIX.md` for dependency manifest governance and CI details.

## Compliance & Tamper Evidence
This repository includes an automated compliance and tamper-evidence pack:

- `scripts/BuildAndTest.ps1`: Builds verifier (libsodium-enabled) and runs tests.
- `scripts/TamperEvidenceDemo.ps1`: Demonstrates deterministic tamper overwrite, SHA256 diff, and Merkle root change; emits JSON artifact.
- `docs/dashboard.yaml` / `docs/dashboard.mmd`: Regulator-facing summary + Mermaid diagram.
- `docs/portal_wireframe.md`: Wireframe specification for compliance portal.
- `docs/evidence_schema.json`: JSON schema for drill-down evidence bundles.
- `docs/requirements_traceability.md`: Initial scaffold for clause-to-artifact mapping.
- GitHub Actions workflow `.github/workflows/compliance.yml`: Nightly + on-push build, tamper demo, static analysis, artifact archival.

### Running Locally
```powershell
# Build and test
pwsh -File scripts/BuildAndTest.ps1
# Run tamper evidence demonstration
pwsh -File scripts/TamperEvidenceDemo.ps1
```
Artifacts are written under `logs/tamper/` and can be extended with signature sealing.

### CI Outputs
- Tamper evidence JSON (`tamper_evidence.json`)
- Static analysis report (`cppcheck_report.xml`)
- Future: signed bundles and compliance clause logs.

> Extend `VerificationHarness.ps1` (to be added) to populate `logs/compliance/*.json` per standard and link Merkle + signature verification per artifact.

## Sovereign System Overview

### Investment Thesis
- Operationalized compliance: automated evidence generation mapped to standards.
- Tamper detection moat: cryptographic hashing + Merkle root persistence and regression alerts.
- Deterministic integrity: reproducible builds and chain verification guard against silent drift.
- Audit velocity: regulators can independently re-run harnesses and validate artifacts via published schema.

### Technical Architecture
- Evidence Verifier: `scripts/VerificationHarness.ps1` executes signature auth, Merkle recompute, regression detection.
- Merkle + Hashing Core: recompute logic for artifact set; persisted roots with optional signing.
- CI Pipelines: GitHub workflow [`compliance.yml`](./.github/workflows/compliance.yml) runs nightly compliance & tamper suite.
- Evidence Schema: JSON validation via [`docs/evidence_schema.json`](./docs/evidence_schema.json) for structured artifact bundles.
- Policy Artifacts: `constitution/policy_manifest.yml` + signature `constitution/policy_manifest.sig`.
- Additional Automation Scripts:
  - Build & test: `scripts/BuildAndTest.ps1`
  - Tamper demo: `scripts/TamperEvidenceDemo.ps1`
  - Merkle utilities & anchoring: assorted scripts under `scripts/` (e.g. anchoring, integrity checks).

### Compliance & Audit
- Harness Output Directory: `logs/compliance/` (JSON summary + artifact list).
- Standards Mapping: dynamic roll?up per run; partial states downgraded to warn/fail.
- Exit Codes (from `VerificationHarness.ps1`):
  - 0 = PASSED (signature + Merkle both pass)
  - 1 = PARTIAL (one passes; degraded assurance)
  - 2 = Missing required files (prerequisites absent; harness aborted early)
  - 3 = FAILED (verification and Merkle integrity not satisfied)
- Regression Signaling: merkle mismatch + weakened verification emits `merkle_regression_event.json`.
- Root Persistence: accepted Merkle root stored & optionally signed for chain?of?custody.
- Schema Validation: artifacts checked against evidence schema; status embedded in summary.

Contact: security@sovereign.example
